{{template "base/base.html" .}}
{{define "head"}}
<title>{{i18n .Lang "websocket_chatroom"}} - {{i18n .Lang "app_intro"}}</title>
{{end}}
{{define "body"}}
<div class="container">
    <h3>{{i18n .Lang "username"}}: <span id="uname">{{.UserName}}</span> <span  id="clientId" style="display:none"></span></h3>
    <h4>{{i18n .Lang "send_box"}}:</h4>
    <form class="form-inline">
        <div class="col-md-6 form-group">
            <input id="sendbox" type="text" class="form-control" onkeydown="if(event.keyCode==13)return false;" required>
        </div>
		<div class="col-md-3 form-group">
		<select id="onlineUserSelect">
		</select>
		</div>
		<div class="col-md-2 form-group">
        <button id="sendbtn" type="button" class="btn btn-default">{{i18n .Lang "Send"}}</button>
		</div>
    </form>
</div>

<div class="container">
    <h3>{{i18n .Lang "chat_history"}}:</h3>
    <ul id="chatbox">
        <li>{{i18n .Lang "welcome"}}</li>
    </ul>
</div>
{{end}}
<script type="text/javascript">
$(document).ready(function () {  
   $("#onlineUserSelect").click(function (){ 
         $.ajax({

               url ：'/user/get-online-users',  //后台处理程序

               type:'get',    //数据发送方式

               dataType:'json',  //接受数据格式

               //data:params,  //要传递的数据

               success:function(data) {  
						alert(data)  
				   },  
				error : function() {   
				     alert("异常！");  
				   }  

               });

        });

});
</script>